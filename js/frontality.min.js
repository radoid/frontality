var DEBUG;
(function(a){a.extend(a.fn,{collapse:function(e){var c=this;"toggle"==e&&(e=this[0].offsetHeight?"hide":"show");"show"==e&&(this.trigger("show"),a(this).css("height",this[0].scrollHeight+"px"),setTimeout(function(){c.trigger("shown")},200));"hide"==e&&(this.trigger("hide"),a(this).css("height","0"),setTimeout(function(){c.trigger("hidden")},200));return this}});a(document).ready(function(){a('[data-toggle="collapse"][href], [data-toggle="collapse"][data-target]').click(function(){a(this.href||a(this).data("target")).collapse("toggle")});
a('[data-toggle="accordion"]').click(function(){a(this).siblings('[data-toggle="accordion"]').next(".collapse").collapse("hide");a(this).next(".collapse").collapse("toggle")})})})(window.jQuery||window.Zepto||window.$);
(function(a){a.extend(a.fn,{modal:function(e){var c=this,b=this.data("container")||a('<div class="modal-container"><div class="modal-backdrop"></div><div class="modal-centered-table"><div class="modal-centered-content"></div></div></div>').on("mousedown",".modal",function(a){a.stopImmediatePropagation()}).on("mousedown",function(a){c.modal("hide");a.stopPropagation()}).on("click",'[data-dismiss="modal"]',function(b){a(this).closest(".modal").modal("hide");b.stopPropagation()});if("hide"!=e&&!this.data("modal_level")){this.trigger("show");
var d=+a(document.body).data("modal_level")+1||1;this.data({container:b,modal_level:d});a(".modal-centered-content",b).append(this.css("display","inline-block"));a(document.body).append(b.show()).addClass("modal-open").data("modal_level",d);this.trigger("shown");a(document).on("keydown."+d,function(b){27==b.which&&a(document.body).data("modal_level")==c.data("modal_level")&&(c.modal("hide"),b.stopPropagation())})}"hide"==e&&this.data("modal_level")&&(this.trigger("hide"),b.hide(),d=Math.max(0,+a(document.body).data("modal_level")-
1||0),a(document.body).data("modal_level",d).toggleClass("modal-open",0<d),a(document).off("keydown."+this.data("modal_level")),this.data("modal_level",!1),this.trigger("hidden"));return this}});a.dialog=function(e,c,b){var d=a("#modal-generic-dialog").length?a("#modal-generic-dialog"):a('<div id="modal-generic-dialog" class="modal modal-dialog modal-narrow"><h3 class="modal-header"><div class="close" data-dismiss="modal">&times;</div></h3><div class="modal-body"></div><div class="modal-footer button-group"></div></div>');
a(".modal-header",d).text(e);a(".modal-body",d).html(c);a(".modal-footer",d).empty();for(var f in b)b.hasOwnProperty(f)&&a(".modal-footer",d).append(a('<button data-dismiss="modal">').html(f).click(b[f]));d.modal("show")};a(document).ready(function(){a('[data-toggle="modal"][href], [data-toggle="modal"][data-target]').click(function(){a(this.href||a(this).data("target")).modal("show")})})})(window.jQuery||window.Zepto||window.$);
(function(a){a.extend(a.fn,{ajax:function(e,c,b,d,f,g){var k=this;k.prop("disabled",!0);var h,l;if(b instanceof a)if(b[0]&&b[0].files&&"undefined"!=typeof FormData){h=new FormData;for(l=0;l<b[0].files.length;l++)h.append("upload"+l,b[0].files[l])}else b="undefined"!=typeof FormData?h=new FormData(b[0]):b.serialize();"function"==typeof g&&g.call(k[0],0);a.ajax(c,{type:e,cache:!1,data:h||b,processData:!h,contentType:h?!1:a.ajaxSettings.contentType,beforeSend:function(a,b){a.setRequestHeader("Accept",
"*/json")},xhr:function(){var b=a.ajaxSettings.xhr();b.upload&&"function"==typeof g&&b.upload.addEventListener("progress",function(a){DEBUG&&console.log("Upload progress:",a.loaded,a.total);a.lengthComputable&&"function"==typeof g&&g.call(k[0],Math.floor(100*(a.loaded/a.total)))},!1);return b}}).always(function(b,e,c){c="success"==e?c:b;b="success"==e?b:c.responseText;if("string"==typeof b)try{b=a.parseJSON(b)}catch(h){}DEBUG&&console.log("ajaxPress:",c.status,c.statusText,b);k.prop("disabled",!1);
var g;400<=c.status||200>c.status?g=b&&"object"==typeof b?b:c.statusText:!b||"object"!=typeof b?g="Sorry, invalid response from server.":"function"==typeof d&&!1===d.call(k[0],b,c)&&(g="string"==typeof f?f:"Sorry, response was invalidated.");g&&"function"==typeof f&&f.call(k[0],g,c)});return this},get:function(a,c,b,d){return this.ajax("GET",a,void 0,c,b,d)},post:function(a,c,b,d,f){return this.ajax("POST",a,c,b,d,f)},put:function(a,c,b,d,f){return this.ajax("PUT",a,c,b,d,f)},"delete":function(a,
c,b,d){return this.ajax("DELETE",a,void 0,c,b,d)}})})(window.jQuery||window.Zepto||window.$);
